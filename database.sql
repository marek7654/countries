-- Utworzenie bazy danych
CREATE DATABASE IF NOT EXISTS world_database;
USE world_database;

-- Tabela 'continents'
CREATE TABLE continents (
    continent_id INT AUTO_INCREMENT PRIMARY KEY,
    continent_name VARCHAR(255) NOT NULL
);

-- Tabela 'countries'
CREATE TABLE countries (
    country_id INT AUTO_INCREMENT PRIMARY KEY,
    country_name VARCHAR(255) NOT NULL,
    population INT,
    area_km2 DECIMAL(10, 2),
    continent_id INT,
    FOREIGN KEY (continent_id) REFERENCES continents(continent_id)
);

-- Tabela 'capitals'
CREATE TABLE capitals (
    capital_id INT AUTO_INCREMENT PRIMARY KEY,
    capital_name VARCHAR(255) NOT NULL,
    country_id INT,
    FOREIGN KEY (country_id) REFERENCES countries(country_id),
    latitude DECIMAL(8, 5),
    longitude DECIMAL(8, 5)
);

-- Wstawianie danych do tabeli 'continents'
INSERT INTO continents (continent_name) VALUES
    ('Afryka'),
    ('Ameryka Północna'),
    ('Ameryka Południowa'),
    ('Azja'),
    ('Europa'),
    ('Australia');


-- Wstawianie danych do tabeli 'countries' dla wybranych krajów
INSERT INTO countries (country_name, population, area_km2, continent_id) VALUES
    ('Afganistan', 38928346, 652230, 4),
    ('Albania', 2877797, 28748, 5),
    ('Algieria', 43851044, 2381741, 1),
    ('Andora', 77265, 468, 5),
    ('Angola', 32866268, 1246700, 1),
    ('Antigua i Barbuda', 97928, 442, 2),
    ('Arabia Saudyjska', 34813871, 2149690, 3),
    ('Argentyna', 45195777, 2780400, 2),
    ('Armenia', 2963234, 29743, 5),
    ('Australia', 25499884, 7692024, 6),
    ('Austria', 9006398, 83879, 5),
    ('Azerbejdżan', 10139177, 86600, 4),
    ('Bahamy', 393244, 13880, 2),
    ('Bahrajn', 1701575, 760, 3),
    ('Bangladesz', 164689383, 148460, 4),
    ('Barbados', 287371, 430, 2),
    ('Belgia', 11589623, 30528, 5),
    ('Belize', 397628, 22965, 2),
    ('Benin', 12123198, 112622, 1),
    ('Bhutan', 771608, 38394, 4),
    ('Białoruś', 9449323, 207600, 5),
    ('Boliwia', 11673029, 1098581, 2),
    ('Bośnia i Hercegowina', 3280819, 51209, 5),
    ('Botswana', 2351625, 581730, 1),
    ('Brazylia', 212559417, 8515767, 3),
    ('Brunei', 437479, 5765, 4),
    ('Bułgaria', 6948445, 110879, 5),
    ('Burkina Faso', 20903278, 273600, 1),
    ('Burundi', 11890784, 27834, 1),
    ('Chile', 19116201, 756096, 2),
    ('Chiny', 1439323776, 9596961, 4),
    ('Chorwacja', 4105267, 56594, 5),
    ('Cypr', 1207359, 9251, 5),
    ('Czad', 16425859, 1284000, 1),
    ('Czarnogóra', 621810, 13812, 5),
    ('Czechy', 10708981, 78865, 5),
    ('Dania', 5792202, 43094, 5),
    ('Demokratyczna Republika Konga', 85026000, 2344858, 1),
    ('Dominika', 71991, 751, 2),
    ('Dominikana', 10882996, 48671, 2),
    ('Dżibuti', 988000, 23200, 1),
    ('Egipt', 102334404, 1002450, 4),
    ('Ekwador', 17643054, 276841, 2),
    ('Erytrea', 3546421, 117600, 1),
    ('Estonia', 1326535, 45227, 5),
    ('Eswatini', 1160164, 17364, 1),
    ('Etiopia', 114963588, 1104300, 1),
    ('Fidżi', 896445, 18306, 2),
    ('Filipiny', 113134629, 342353, 4),
    ('Finlandia', 5540720, 338424, 5),
    ('Francja', 65273511, 551695, 5),
    ('Gabon', 2225734, 267668, 1),
    ('Gambia', 2416668, 10689, 1),
    ('Ghana', 31072940, 238535, 1),
    ('Grecja', 10423054, 131957, 5),
    ('Grenada', 112003, 344, 2),
    ('Gruzja', 3989167, 69700, 5),
    ('Gujana', 787584, 214969, 2),
    ('Gwatemala', 17915568, 108889, 2),
    ('Gwinea', 13132795, 245857, 1),
    ('Gwinea Bissau', 1968001, 36125, 1),
    ('Gwinea Równikowa', 1402985, 28051, 1),
    ('Haiti', 11402533, 27750, 2),
    ('Hiszpania', 46754783, 505990, 5),
    ('Holandia', 17134872, 41543, 5),
    ('Honduras', 9904607, 112492, 2),
    ('Indie', 1380004385, 3287263, 4),
    ('Indonezja', 273523615, 1904569, 4),
    ('Irak', 40222503, 438317, 4),
    ('Iran', 83992949, 1648195, 4),
    ('Irlandia', 4937786, 70273, 5),
    ('Islandia', 341243, 103000, 5),
    ('Izrael', 8655535, 20770, 4),
    ('Jamajka', 2961161, 10991, 2),
    ('Japonia', 126476461, 377975, 4),
    ('Jemen', 29825968, 527968, 4),
    ('Jordania', 10203134, 89342, 4),
    ('Kambodża', 16718971, 181035, 4),
    ('Kamerun', 26545863, 475442, 1),
    ('Kanada', 37742154, 9984670, 2),
    ('Katar', 2881053, 11586, 4),
    ('Kazachstan', 18776707, 2724900, 4),
    ('Kenia', 53771296, 580367, 1),
    ('Kirgistan', 6524195, 199951, 4),
    ('Kiribati', 119446, 811, 2),
    ('Kolumbia', 50882891, 1141748, 2),
    ('Komory', 869601, 1862, 1),
    ('Kongo', 5518087, 342000, 1),
    ('Korea Południowa', 51269185, 100210, 4),
    ('Korea Północna', 25778816, 120538, 4),
    ('Kostaryka', 5094118, 51100, 2),
    ('Kuba', 11326616, 109884, 2),
    ('Kuwejt', 4270571, 17818, 4),
    ('Laos', 7275560, 236800, 4),
    ('Lesotho', 2142249, 30355, 1),
    ('Liban', 6825442, 10452, 5),
    ('Liberia', 5057681, 111369, 1),
    ('Libia', 6871287, 1759540, 1),
    ('Liechtenstein', 38128, 160, 5),
    ('Litwa', 2722289, 65300, 5),
    ('Luksemburg', 625978, 2586, 5),
    ('Łotwa', 1886198, 64589, 5),
    ('Macedonia Północna', 2083160, 25713, 5),
    ('Madagaskar', 27691018, 587041, 1),
    ('Malawi', 19129952, 118484, 1),
    ('Malediwy', 521167, 298, 4),
    ('Malezja', 32767910, 330803, 4),
    ('Mali', 20250833, 1240192, 1),
    ('Malta', 514564, 316, 5),
    ('Maroko', 36910560, 446550, 1),
    ('Mauretania', 4649658, 1030700, 1),
    ('Mauritius', 1271768, 2040, 1),
    ('Meksyk', 128932753, 1964375, 2),
    ('Mikronezja', 115023, 702, 4),
    ('Mjanma', 54409800, 676578, 4),
    ('Mołdawia', 4033963, 33846, 5),
    ('Monako', 39242, 2, 5),
    ('Mongolia', 3278290, 1564110, 4),
    ('Mozambik', 31255435, 801590, 1),
    ('Namibia', 2540905, 825615, 1),
    ('Nauru', 10824, 21, 2),
    ('Nepal', 29136808, 147516, 4),
    ('Niemcy', 83166711, 357022, 5),
    ('Niger', 24206636, 1267000, 1),
    ('Nigeria', 206139589, 923768, 1),
    ('Nikaragua', 6624554, 130373, 2),
    ('Norwegia', 5421241, 323802, 5),
    ('Nowa Zelandia', 4822233, 270467, 2),
    ('Oman', 5106622, 309500, 4),
    ('Pakistan', 220892340, 881913, 4),
    ('Palau', 18092, 459, 6),
    ('Panama', 4314767, 75420, 2),
    ('Papua-Nowa Gwinea', 8935000, 462840, 6),
    ('Paragwaj', 7132538, 406752, 3),
    ('Peru', 32971854, 1285216, 3),
    ('Polska', 37972812, 312696, 5),
    ('Południowa Afryka', 59308690, 1220813, 1),
    ('Portugalia', 10196709, 92212, 5),
    ('Republika Środkowoafrykańska', 4829767, 622984, 1),
    ('Republika Zielonego Przylądka', 555987, 4033, 1),
    ('Rosja', 145912025, 17125242, 4),
    ('Rumunia', 19237691, 238397, 5),
    ('Rwanda', 12952218, 26338, 1),
    ('Saint Kitts i Nevis', 53199, 261, 2),
    ('Saint Lucia', 183629, 617, 2),
    ('Saint Vincent i Grenadyny', 110210, 389, 2),
    ('Salwador', 6486205, 21040, 2),
    ('Samoa', 198414, 2831, 6),
    ('San Marino', 33938, 61, 5),
    ('Senegal', 16743927, 196722, 1),
    ('Serbia', 8737371, 77474, 5),
    ('Seszele', 98347, 459, 1),
    ('Sierra Leone', 7976983, 71740, 1),
    ('Singapur', 5850342, 725.7, 4),
    ('Słowacja', 5460109, 49037, 5),
    ('Słowenia', 2078654, 20273, 5),
    ('Somalia', 15893222, 637657, 1),
    ('Sri Lanka', 21413249, 65610, 4),
    ('Stany Zjednoczone', 331002651, 9372610, 2),
    ('Sudan', 43849260, 1861484, 1),
    ('Sudan Południowy', 11193725, 644329, 1),
    ('Surinam', 586632, 163821, 3),
    ('Syria', 17500658, 185180, 4),
    ('Szwajcaria', 8654622, 41284, 5),
    ('Szwecja', 10099265, 450295, 5),
    ('Tadżykistan', 9537645, 143100, 4),
    ('Tajlandia', 69799978, 513120, 6),
    ('Tanzania', 59734213, 945087, 1),
    ('Timor Wschodni', 1318445, 14874, 6),
    ('Togo', 8278724, 56785, 1),
    ('Tonga', 105695, 747, 6),
    ('Trynidad i Tobago', 1399488, 5130, 2),
    ('Tunezja', 11818619, 163610, 1),
    ('Turcja', 84339067, 783562, 5),
    ('Turkmenistan', 6031200, 488100, 4),
    ('Tuvalu', 11792, 26, 6),
    ('Uganda', 45741007, 241038, 1),
    ('Ukraina', 43733762, 603550, 5),
    ('Urugwaj', 3473727, 176215, 3),
    ('Uzbekistan', 33469203, 448978, 4),
    ('Vanuatu', 307145, 12189, 6),
    ('Watykan', 801, 0.44, 5),
    ('Wenezuela', 28435943, 916445, 3),
    ('Węgry', 9660351, 93030, 5),
    ('Wielka Brytania', 67886011, 242495, 5),
    ('Wietnam', 97338579, 331212, 6),
    ('Włochy', 60461826, 301340, 5),
    ('Wybrzeże Kości Słoniowej', 26378274, 322463, 1),
    ('Wyspy Marshalla', 59190, 181.3, 6),
    ('Wyspy Salomona', 686884, 28896, 6),
    ('Wyspy Świętego Tomasza i Książęca', 219159, 964, 1),
    ('Zambia', 18383956, 752612, 1),
    ('Zimbabwe', 14862927, 390757, 1),
    ('Zjednoczone Emiraty Arabskie', 9890402, 83600, 4);

-- Wstawianie danych stolic
INSERT INTO capitals (capital_name, country_id, latitude, longitude) VALUES
    ('Kabul', 1, 34.5553, 69.2075),
    ('Tirana', 2, 41.3275, 19.8187),
    ('Algier', 3, 36.7538, 3.0588),
    ('Andora la Vella', 4, 42.5075, 1.5218),
    ('Luanda', 5, -8.8383, 13.2344),
    ('Saint John''s', 6, 17.118, -61.8489),
    ('Rijad', 7, 24.7136, 46.6753),
    ('Buenos Aires', 8, -34.6118, -58.4173),
    ('Erywań', 9, 40.1792, 44.4991),
    ('Canberra', 10, -35.282, 149.1287),
    ('Wiedeń', 11, 48.2082, 16.3738),
    ('Baku', 12, 40.4093, 49.8671),
    ('Nassau', 13, 25.0343, -77.3963),
    ('Manama', 14, 26.2285, 50.586),
    ('Dhaka', 15, 23.8103, 90.4125),
    ('Bridgetown', 16, 13.0975, -59.6167),
    ('Bruksela', 17, 50.8503, 4.3517),
    ('Belmopan', 18, 17.251, -88.759),
    ('Porto-Novo', 19, 6.497, 2.628),
    ('Thimphu', 20, 27.4661, 89.6419),
    ('Mińsk', 21, 53.9045, 27.5615),
    ('Sucre', 22, -19.0333, -65.2627),
    ('Sarajewo', 23, 43.8563, 18.4131),
    ('Gaborone', 24, -24.6283, 25.9231),
    ('Brasília', 25, -15.7801, -47.9292),
    ('Bandar Seri Begawan', 26, 4.9402, 114.9481),
    ('Sofia', 27, 42.6977, 23.3219),
    ('Wagadugu', 28, 12.3714, -1.5197),
    ('Bużumbura', 29, -3.3818, 29.3622),
    ('Santiago', 30, -33.4489, -70.6693),
    ('Pekin', 31, 39.9042, 116.4074),
    ('Zagrzeb', 32, 45.8150, 15.9819),
    ('Nikozja', 33, 35.1856, 33.3823),
    ('N’Dżamena', 34, 12.1131, 15.0491),
    ('Podgorica', 35, 42.4304, 19.2594),
    ('Praga', 36, 50.0755, 14.4378),
    ('Kopenhaga', 37, 55.6761, 12.5683),
    ('Kinszasa', 38, -4.4419, 15.2663),
    ('Roseau', 39, 15.3010, -61.3870),
    ('Santo Domingo', 40, 18.4790, -69.8908),
    ('Dżibuti', 41, 11.5799, 43.1421),
    ('Kair', 42, 30.0444, 31.2357),
    ('Quito', 43, -0.2295, -78.5243),
    ('Asmara', 44, 15.3229, 38.9250),
    ('Tallinn', 45, 59.4370, 24.7536),
    ('Mbabane', 46, -26.3167, 31.1333),
    ('Addis Abeba', 47, 9.1450, 38.7250),
    ('Suva', 48, -18.1248, 178.4501),
    ('Manila', 49, 13.4050, 122.7617),
    ('Helsinki', 50, 60.1699, 24.9384),
    ('Paryż', 51, 48.8566, 2.3522),
    ('Libreville', 52, 0.3925, 9.4533),
    ('Bandżul', 53, 13.4531, -16.5775),
    ('Akra', 54, 5.5600, -0.2057),
    ('Ateny', 55, 37.9792, 23.7166),
    ('Saint George''s', 56, 12.0566, -61.7485),
    ('Tbilisi', 57, 41.6939, 44.8011),
    ('Georgetown', 58, 6.8013, -58.1556),
    ('Gwatemala', 59, 14.6349, -90.5069),
    ('Konakry', 60, 9.5092, -13.7122),
    ('Bissau', 61, 11.8636, -15.5977),
    ('Malabo', 62, 3.7575, 8.7737),
    ('Port-au-Prince', 63, 18.5392, -72.3350),
    ('Madryt', 64, 40.4168, -3.7038),
    ('Amsterdam', 65, 52.3792, 4.8994),
    ('Tegucigalpa', 66, 14.0723, -87.1810),
    ('Nowe Delhi', 67, 28.6139, 77.2090),
    ('Dżakarta', 68, -6.2088, 106.8456),
    ('Bagdad', 69, 33.3152, 44.3661),
    ('Teheran', 70, 35.6895, 51.3949),
    ('Dublin', 71, 53.3498, -6.2603),
    ('Reykjavik', 72, 64.1466, -21.9426),
    ('Jerozolima', 73, 31.7683, 35.2137),
    ('Kingston', 74, 17.9714, -76.7922),
    ('Tokio', 75, 35.682839, 139.759455),
    ('Sanaa', 76, 15.3694, 44.1910),
    ('Amman', 77, 31.9522, 35.9375),
    ('Phnom Penh', 78, 11.5564, 104.9282),
    ('Jaunde', 79, 3.848033, 11.502075),
    ('Ottawa', 80, 45.4215, -75.6919),
    ('Doha', 81, 25.276987, 51.520007),
    ('Nur-Sułtan', 82, 51.166667, 71.433333),
    ('Nairobi', 83, -1.286389, 36.817223),
    ('Biszkek', 84, 42.874722, 74.612778),
    ('Tarawa', 85, 1.327, 172.976),
    ('Bogota', 86, 4.6116, -74.081),
    ('Moroni', 87, -11.7172, 43.2476),
    ('Kinszasa', 88, -4.4419, 15.2663),
    ('Seul', 89, 37.5665, 126.9780),
    ('Pjongjang', 90, 39.0190, 125.7381),
    ('San Jose', 91, 9.9321, -84.0841),
    ('Hawana', 92, 23.1136, -82.3666),
    ('Kuwejt', 93, 29.3759, 47.9774),
    ('Wientian', 94, 17.9757, 102.6331),
    ('Maseru', 95, -29.3125, 27.4833),
    ('Bejrut', 96, 33.8959, 35.4784),
    ('Monrovia', 97, 6.3005, -10.7969),
    ('Trypolis', 98, 32.887222, 13.191389),
    ('Vaduz', 99, 47.1410, 9.5209),
    ('Wilno', 100, 54.6872, 25.2797),
    ('Luksemburg', 101, 49.6116, 6.1319),
    ('Ryga', 102, 56.9496, 24.1052),
    ('Skopje', 103, 41.9981, 21.4254),
    ('Antananarywa', 104, -18.8792, 47.5079),
    ('Lilongwe', 105, -13.9633, 33.7741),
    ('Malé', 106, 4.1755, 73.5093),
    ('Kuala Lumpur', 107, 3.1390, 101.6869),
    ('Bamako', 108, 12.6392, -8.0029),
    ('Valletta', 109, 35.8989, 14.5146),
    ('Rabat', 110, 34.020882, -6.84165),
    ('Nouakchott', 111, 18.0864, -15.9752),
    ('Port Louis', 112, -20.1609, 57.5012),
    ('Meksyk', 113, 19.4326, -99.1332),
    ('Palikir', 114, 6.9248, 158.1610),
    ('Naypyidaw', 115, 19.7608, 96.0755),
    ('Kiszyniów', 116, 47.0167, 28.8497),
    ('Monako', 117, 43.7384, 7.4246),
    ('Ułan Bator', 118, 47.9204, 106.9180),
    ('Maputo', 119, -25.9692, 32.5733),
    ('Windhuk', 120, -22.5597, 17.0832),
    ('Yaren', 121, -0.5477, 166.9195),
    ('Katmandu', 122, 27.7172, 85.3240),
    ('Berlin', 123, 52.5200, 13.4050),
    ('Niamey', 124, 13.5126, 2.1128),
    ('Abudża', 125, 9.0579, 7.4951),
    ('Managua', 126, 12.1328, -86.2500),
    ('Oslo', 127, 59.9139, 10.7522),
    ('Wellington', 128, -41.2865, 174.7762),
    ('Maskat', 129, 23.6345, 58.5255),
    ('Islamabad', 130, 33.6844, 73.0479),
    ('Ngerulmud', 131, 7.5000, 134.6242),
    ('Panama', 132, 8.9824, -79.5199),
    ('Port Moresby', 133, -9.4789, 147.1491),
    ('Asunción', 134, -25.2637, -57.5759),
    ('Lima', 135, -12.0464, -77.0428),
    ('Warszawa', 136, 52.2297, 21.0122),
    ('Pretoria', 137, -25.7461, 28.1881),
    ('Lizbona', 138, 38.7223, -9.1393),
    ('Bangi', 139, 4.3669, 18.5582),
    ('Praia', 140, 14.9275, -23.5122),
    ('Moskwa', 141, 55.7558, 37.6176),
    ('Bukareszt', 142, 44.4268, 26.1025),
    ('Kigali', 143, -1.9499, 30.0589),
    ('Basseterre', 144, 17.3032, -62.7170),
    ('Castries', 145, 14.0101, -60.9873),
    ('Kingstown', 146, 13.1618, -61.2244),
    ('San Salvador', 147, 13.6929, -89.2182),
    ('Apia', 148, -13.8333, -171.7667),
    ('San Marino', 149, 43.9424, 12.4578),
    ('Dakar', 150, 14.6928, -17.4467),
    ('Belgrad', 151, 44.7872, 20.4573),
    ('Victoria', 152, -4.6212, 55.4544),
    ('Freetown', 153, 8.4840, -13.2346),
    ('Singapur', 154, 1.3521, 103.8198),
    ('Bratysława', 155, 48.1486, 17.1077),
    ('Lublana', 156, 46.0569, 14.5058),
    ('Mogadiszu', 157, 2.0469, 45.3182),
    ('Colombo', 158, 6.9271, 79.8612),
    ('Waszyngton', 159, 38.8951, -77.0364),
    ('Chartum', 160, 15.5000, 32.5833),
    ('Dżuba', 161, 4.8594, 31.5712),
    ('Paramaribo', 162, 5.8664, -55.1668),
    ('Damaszek', 163, 33.5138, 36.2765),
    ('Berno', 164, 46.9480, 7.4474),
    ('Sztokholm', 165, 59.3293, 18.0686),
    ('Duszanbe', 166, 38.5739, 68.7739),
    ('Bangkok', 167, 13.7563, 100.5018),
    ('Dodoma', 168, -6.1630, 35.7516),
    ('Dili', 169, -8.5586, 125.5781),
    ('Lomé', 170, 6.1228, 1.2255),
    ('Nukuʻalofa', 171, -21.1360, -175.2160),
    ('Port-of-Spain', 172, 10.6616, -61.5202),
    ('Tunis', 173, 36.8065, 10.1815),
    ('Ankara', 174, 39.9334, 32.8597),
    ('Aszchabad', 175, 37.9838, 58.3622),
    ('Funafuti', 176, -8.5238, 179.1962),
    ('Kampala', 177, 0.3136, 32.5813),
    ('Kijów', 178, 50.4501, 30.5234),
    ('Montevideo', 179, -34.9011, -56.1645),
    ('Taszkent', 180, 41.2995, 69.2401),
    ('Port Vila', 181, -17.7404, 168.3213),
    ('Watykan', 182, 41.9029, 12.4534),
    ('Caracas', 183, 10.5000, -66.9333),
    ('Budapeszt', 184, 47.4979, 19.0402),
    ('Londyn', 185, 51.5074, -0.1278),
    ('Hanoi', 186, 21.0285, 105.8542),
    ('Rzym', 187, 41.9028, 12.4964),
    ('Jamena', 188, 12.1344, 15.0557),
    ('Majuro', 189, 7.1164, 171.1859),
    ('Honiara', 190, -9.4330, 159.9500),
    ('Sao Tome', 191, 0.3360, 6.7274),
    ('Lusaka', 192, -15.4167, 28.2833),
    ('Harare', 193, -17.8292, 31.0522),
    ('Abu Dhabi', 194, 24.4667, 54.3667);

-- Tworzenie widoku "country_details"
CREATE OR REPLACE VIEW country_details AS
SELECT
    co.country_id,
    co.country_name,
    co.population,
    co.area_km2,
    con.continent_name,
    ca.capital_name,
    ca.latitude,
    ca.longitude
FROM
    countries co
JOIN
    continents con ON co.continent_id = con.continent_id
LEFT JOIN
    capitals ca ON co.country_id = ca.country_id;


-- Przykład użycia widoku do pobrania informacji o kraju o ID = 1
-- SELECT * FROM country_details WHERE country_id = 1;